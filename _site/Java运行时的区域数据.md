# Java运行时的区域数据

JAVA虚拟机在执行JAVA程序的过程中将其管理的内存分成多个组成部分:
* 程序计数器
* 虚拟机栈
* 本地方法栈
* 堆
* 方法区

### 程序计数器

程序计数器记录这当前线程执行字节码的行号.多线程处理是CPU通过时间片在不同的线程中执行并切换实现的, 为了记录切换之前的执行状态,程序计数器记录了当前执行的字节码行号, 程序计数器相对于线程独立存在,线程之间不会互相干扰,是线程私有内存

### JAVA虚拟机栈

与线程有相同的生命周期, 很多人喜欢把JAVA的内存分为堆内存和栈内存, 这个JAVA虚拟机栈就是所谓的栈内存. JAVA虚拟机栈中记录了方法的局部变量表,操作数栈,动态链接,方法出口地址等信息, 其中局部变量表定义基本的数据类型,对象的引用和returnAddress, 这么说来局部变量也是线程私有的了.

### 本地方法栈

### 堆

在堆上存放这JAVA的对象实例和数组元素,是线程之间共享的.堆也是GC的主要发生区域, GC主要采用分代收集算法, 详细点又分为新生代和老生代,再详细分,新生代又分为Eden区, From Survivor, To Survivor区.具体的回收算法会在后面详细介绍. 堆的内存分配并不是物理上连续的,但是逻辑上是连续的,这个有点像磁盘空间. 我们可以通过-Xmx和-Xms来实现对堆的扩展,如果在堆中没能完成实例分配,并且堆无法进行再扩展时将抛出OutOfMemoryError异常

### 方法区

方法区和堆一样,也是线程共享的区域, 存储这虚拟机加载的类信息,常量,静态常量,编译器编译后的代码等数据.
